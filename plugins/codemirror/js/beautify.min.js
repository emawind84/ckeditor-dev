(function(){var f={};(function(n){var p=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/;var s="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc";var r="\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f";var m=new RegExp("["+s+"]");var k=new RegExp("["+s+r+"]");var l=n.newline=/[\n\r\u2028\u2029]/;var q=/\r\n|[\n\r\u2028\u2029]/g;var o=n.isIdentifierStart=function(u){if(u<65){return u===36}if(u<91){return true}if(u<97){return u===95}if(u<123){return true}return u>=170&&m.test(String.fromCharCode(u))};var t=n.isIdentifierChar=function(u){if(u<48){return u===36}if(u<58){return true}if(u<65){return false}if(u<91){return true}if(u<97){return u===95}if(u<123){return true}return u>=170&&k.test(String.fromCharCode(u))}})(f);function h(m,k){for(var l=0;l<k.length;l+=1){if(k[l]===m){return true}}return false}function d(k){return k.replace(/^\s+|\s+$/g,"")}function b(l,k){var m=new g(l,k);return m.beautify()}var e={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function g(m,E){var H;var P=[],k;var M;var q;var X,C,ai;var v,F,n;var U;var l,w;var ak="";l={TK_START_EXPR:ag,TK_END_EXPR:L,TK_START_BLOCK:V,TK_END_BLOCK:W,TK_WORD:y,TK_RESERVED:y,TK_SEMICOLON:K,TK_STRING:x,TK_EQUALS:Q,TK_OPERATOR:aa,TK_COMMA:ac,TK_BLOCK_COMMENT:ab,TK_INLINE_COMMENT:T,TK_COMMENT:r,TK_DOT:ad,TK_UNKNOWN:Y,TK_EOF:ae};function p(an,ao){var al=0;if(an){al=an.indentation_level;if(!H.just_added_newline()&&an.line_indent_level>al){al=an.line_indent_level}}var am={mode:ao,parent:an,last_text:an?an.last_text:"",last_word:an?an.last_word:"",declaration_statement:false,declaration_assignment:false,multiline_frame:false,if_block:false,else_block:false,do_block:false,do_while:false,in_case_statement:false,in_case:false,case_body:false,indentation_level:al,line_indent_level:an?an.line_indent_level:al,start_line_index:H.get_line_number(),ternary_depth:0};return am}E=E?E:{};w={};if(E.braces_on_own_line!==undefined){w.brace_style=E.braces_on_own_line?"expand":"collapse"}w.brace_style=E.brace_style?E.brace_style:(w.brace_style?w.brace_style:"collapse");if(w.brace_style==="expand-strict"){w.brace_style="expand"}w.indent_size=E.indent_size?parseInt(E.indent_size,10):4;w.indent_char=E.indent_char?E.indent_char:" ";w.preserve_newlines=(E.preserve_newlines===undefined)?true:E.preserve_newlines;w.break_chained_methods=(E.break_chained_methods===undefined)?false:E.break_chained_methods;w.max_preserve_newlines=(E.max_preserve_newlines===undefined)?0:parseInt(E.max_preserve_newlines,10);w.space_in_paren=(E.space_in_paren===undefined)?false:E.space_in_paren;w.space_in_empty_paren=(E.space_in_empty_paren===undefined)?false:E.space_in_empty_paren;w.jslint_happy=(E.jslint_happy===undefined)?false:E.jslint_happy;w.space_after_anon_function=(E.space_after_anon_function===undefined)?false:E.space_after_anon_function;w.keep_array_indentation=(E.keep_array_indentation===undefined)?false:E.keep_array_indentation;w.space_before_conditional=(E.space_before_conditional===undefined)?true:E.space_before_conditional;w.unescape_strings=(E.unescape_strings===undefined)?false:E.unescape_strings;w.wrap_line_length=(E.wrap_line_length===undefined)?0:parseInt(E.wrap_line_length,10);w.e4x=(E.e4x===undefined)?false:E.e4x;w.end_with_newline=(E.end_with_newline===undefined)?false:E.end_with_newline;if(w.jslint_happy){w.space_after_anon_function=true}if(E.indent_with_tabs){w.indent_char="\t";w.indent_size=1}ai="";while(w.indent_size>0){ai+=w.indent_char;w.indent_size-=1}var z=0;if(m&&m.length){while((m.charAt(z)===" "||m.charAt(z)==="\t")){ak+=m.charAt(z);z+=1}m=m.substring(z)}X="TK_START_BLOCK";C="";H=new i(ai,ak);n=[];t(e.BlockStatement);this.beautify=function(){var al,an;M=new j(m,w,ai);P=M.tokenize();k=0;while(al=B()){for(var am=0;am<al.comments_before.length;am++){af(al.comments_before[am])}af(al);C=v.last_text;X=al.type;v.last_text=al.text;k+=1}an=H.get_code();if(w.end_with_newline){an+="\n"}return an};function af(al){var ao=al.newlines;var am=w.keep_array_indentation&&S(v.mode);if(am){for(an=0;an<ao;an+=1){G(an>0)}}else{if(w.max_preserve_newlines&&ao>w.max_preserve_newlines){ao=w.max_preserve_newlines}if(w.preserve_newlines){if(al.newlines>1){G();for(var an=1;an<ao;an+=1){G(true)}}}}q=al;l[q.type]()}function ah(an){an=an.replace(/\x0d/g,"");var am=[],al=an.indexOf("\n");while(al!==-1){am.push(an.substring(0,al));an=an.substring(al+1);al=an.indexOf("\n")}if(an.length){am.push(an)}return am}function s(am){am=(am===undefined)?false:am;if(H.just_added_newline()){return}if((w.preserve_newlines&&q.wanted_newline)||am){G(false,true)}else{if(w.wrap_line_length){var al=H.current_line.get_character_count()+q.text.length+(H.space_before_token?1:0);if(al>=w.wrap_line_length){G(false,true)}}}}function G(al,am){if(!am){if(v.last_text!==";"&&v.last_text!==","&&v.last_text!=="="&&X!=="TK_OPERATOR"){while(v.mode===e.Statement&&!v.if_block&&!v.do_block){o()}}}if(H.add_new_line(al)){v.multiline_frame=true}}function D(){if(H.just_added_newline()){if(w.keep_array_indentation&&S(v.mode)&&q.wanted_newline){H.current_line.push("");for(var al=0;al<q.whitespace_before.length;al+=1){H.current_line.push(q.whitespace_before[al])}H.space_before_token=false}else{if(H.add_indent_string(v.indentation_level)){v.line_indent_level=v.indentation_level}}}}function N(al){al=al||q.text;D();H.add_token(al)}function u(){v.indentation_level+=1}function A(){if(v.indentation_level>0&&((!v.parent)||v.indentation_level>v.parent.indentation_level)){v.indentation_level-=1}}function t(al){if(v){n.push(v);F=v}else{F=p(null,al)}v=p(F,al)}function S(al){return al===e.ArrayLiteral}function J(al){return h(al,[e.Expression,e.ForInitializer,e.Conditional])}function o(){if(n.length>0){F=v;v=n.pop();if(F.mode===e.Statement){H.remove_redundant_indentation(F)}}}function O(){return v.parent.mode===e.ObjectLiteral&&v.mode===e.Statement&&((v.last_text===":"&&v.ternary_depth===0)||(X==="TK_RESERVED"&&h(v.last_text,["get","set"])))}function I(){if((X==="TK_RESERVED"&&h(v.last_text,["var","let","const"])&&q.type==="TK_WORD")||(X==="TK_RESERVED"&&v.last_text==="do")||(X==="TK_RESERVED"&&v.last_text==="return"&&!q.wanted_newline)||(X==="TK_RESERVED"&&v.last_text==="else"&&!(q.type==="TK_RESERVED"&&q.text==="if"))||(X==="TK_END_EXPR"&&(F.mode===e.ForInitializer||F.mode===e.Conditional))||(X==="TK_WORD"&&v.mode===e.BlockStatement&&!v.in_case&&!(q.text==="--"||q.text==="++")&&q.type!=="TK_WORD"&&q.type!=="TK_RESERVED")||(v.mode===e.ObjectLiteral&&((v.last_text===":"&&v.ternary_depth===0)||(X==="TK_RESERVED"&&h(v.last_text,["get","set"]))))){t(e.Statement);u();if(X==="TK_RESERVED"&&h(v.last_text,["var","let","const"])&&q.type==="TK_WORD"){v.declaration_statement=true}if(!O()){s(q.type==="TK_RESERVED"&&h(q.text,["do","for","if","while"]))}return true}return false}function aj(am,ao){for(var an=0;an<am.length;an++){var al=d(am[an]);if(al.charAt(0)!==ao){return false}}return true}function Z(ao,am){var ap=0,al=ao.length,an;for(;ap<al;ap++){an=ao[ap];if(an&&an.indexOf(am)!==0){return false}}return true}function R(al){return h(al,["case","return","do","if","throw","else"])}function B(am){var al=k+(am||0);return(al<0||al>=P.length)?null:P[al]}function ag(){if(I()){}var al=e.Expression;if(q.text==="["){if(X==="TK_WORD"||v.last_text===")"){if(X==="TK_RESERVED"&&h(v.last_text,M.line_starters)){H.space_before_token=true}t(al);N();u();if(w.space_in_paren){H.space_before_token=true}return}al=e.ArrayLiteral;if(S(v.mode)){if(v.last_text==="["||(v.last_text===","&&(C==="]"||C==="}"))){if(!w.keep_array_indentation){G()}}}}else{if(X==="TK_RESERVED"&&v.last_text==="for"){al=e.ForInitializer}else{if(X==="TK_RESERVED"&&h(v.last_text,["if","while"])){al=e.Conditional}else{}}}if(v.last_text===";"||X==="TK_START_BLOCK"){G()}else{if(X==="TK_END_EXPR"||X==="TK_START_EXPR"||X==="TK_END_BLOCK"||v.last_text==="."){s(q.wanted_newline)}else{if(!(X==="TK_RESERVED"&&q.text==="(")&&X!=="TK_WORD"&&X!=="TK_OPERATOR"){H.space_before_token=true}else{if((X==="TK_RESERVED"&&(v.last_word==="function"||v.last_word==="typeof"))||(v.last_text==="*"&&C==="function")){if(w.space_after_anon_function){H.space_before_token=true}}else{if(X==="TK_RESERVED"&&(h(v.last_text,M.line_starters)||v.last_text==="catch")){if(w.space_before_conditional){H.space_before_token=true}}}}}}if(q.text==="("){if(X==="TK_EQUALS"||X==="TK_OPERATOR"){if(!O()){s()}}}t(al);N();if(w.space_in_paren){H.space_before_token=true}u()}function L(){while(v.mode===e.Statement){o()}if(v.multiline_frame){s(q.text==="]"&&S(v.mode)&&!w.keep_array_indentation)}if(w.space_in_paren){if(X==="TK_START_EXPR"&&!w.space_in_empty_paren){H.trim();H.space_before_token=false}else{H.space_before_token=true}}if(q.text==="]"&&w.keep_array_indentation){N();o()}else{o();N()}H.remove_redundant_indentation(F);if(v.do_while&&F.mode===e.Conditional){F.mode=e.Expression;v.do_block=false;v.do_while=false}}function V(){var al=B(1);var an=B(2);if(an&&((an.text===":"&&h(al.type,["TK_STRING","TK_WORD","TK_RESERVED"]))||(h(al.text,["get","set"])&&h(an.type,["TK_WORD","TK_RESERVED"])))){if(!h(C,["class","interface"])){t(e.ObjectLiteral)}else{t(e.BlockStatement)}}else{t(e.BlockStatement)}var ao=!al.comments_before.length&&al.text==="}";var am=ao&&v.last_word==="function"&&X==="TK_END_EXPR";if(w.brace_style==="expand"){if(X!=="TK_OPERATOR"&&(am||X==="TK_EQUALS"||(X==="TK_RESERVED"&&R(v.last_text)&&v.last_text!=="else"))){H.space_before_token=true}else{G(false,true)}}else{if(X!=="TK_OPERATOR"&&X!=="TK_START_EXPR"){if(X==="TK_START_BLOCK"){G()}else{H.space_before_token=true}}else{if(S(F.mode)&&v.last_text===","){if(C==="}"){H.space_before_token=true}else{G()}}}}N();u()}function W(){while(v.mode===e.Statement){o()}var al=X==="TK_START_BLOCK";if(w.brace_style==="expand"){if(!al){G()}}else{if(!al){if(S(v.mode)&&w.keep_array_indentation){w.keep_array_indentation=false;G();w.keep_array_indentation=true}else{G()}}}o();N()}function y(){if(q.type==="TK_RESERVED"&&v.mode!==e.ObjectLiteral&&h(q.text,["set","get"])){q.type="TK_WORD"}if(q.type==="TK_RESERVED"&&v.mode===e.ObjectLiteral){var am=B(1);if(am.text==":"){q.type="TK_WORD"}}if(I()){}else{if(q.wanted_newline&&!J(v.mode)&&(X!=="TK_OPERATOR"||(v.last_text==="--"||v.last_text==="++"))&&X!=="TK_EQUALS"&&(w.preserve_newlines||!(X==="TK_RESERVED"&&h(v.last_text,["var","let","const","set","get"])))){G()}}if(v.do_block&&!v.do_while){if(q.type==="TK_RESERVED"&&q.text==="while"){H.space_before_token=true;N();H.space_before_token=true;v.do_while=true;return}else{G();v.do_block=false}}if(v.if_block){if(!v.else_block&&(q.type==="TK_RESERVED"&&q.text==="else")){v.else_block=true}else{while(v.mode===e.Statement){o()}v.if_block=false;v.else_block=false}}if(q.type==="TK_RESERVED"&&(q.text==="case"||(q.text==="default"&&v.in_case_statement))){G();if(v.case_body||w.jslint_happy){A();v.case_body=false}N();v.in_case=true;v.in_case_statement=true;return}if(q.type==="TK_RESERVED"&&q.text==="function"){if(h(v.last_text,["}",";"])||(H.just_added_newline()&&!h(v.last_text,["[","{",":","=",","]))){if(!H.just_added_blankline()&&!q.comments_before.length){G();G(true)}}if(X==="TK_RESERVED"||X==="TK_WORD"){if(X==="TK_RESERVED"&&h(v.last_text,["get","set","new","return","export"])){H.space_before_token=true}else{if(X==="TK_RESERVED"&&v.last_text==="default"&&C==="export"){H.space_before_token=true}else{G()}}}else{if(X==="TK_OPERATOR"||v.last_text==="="){H.space_before_token=true}else{if(!v.multiline_frame&&(J(v.mode)||S(v.mode))){}else{G()}}}}if(X==="TK_COMMA"||X==="TK_START_EXPR"||X==="TK_EQUALS"||X==="TK_OPERATOR"){if(!O()){s()}}if(q.type==="TK_RESERVED"&&h(q.text,["function","get","set"])){N();v.last_word=q.text;return}U="NONE";if(X==="TK_END_BLOCK"){if(!(q.type==="TK_RESERVED"&&h(q.text,["else","catch","finally"]))){U="NEWLINE"}else{if(w.brace_style==="expand"||w.brace_style==="end-expand"){U="NEWLINE"}else{U="SPACE";H.space_before_token=true}}}else{if(X==="TK_SEMICOLON"&&v.mode===e.BlockStatement){U="NEWLINE"}else{if(X==="TK_SEMICOLON"&&J(v.mode)){U="SPACE"}else{if(X==="TK_STRING"){U="NEWLINE"}else{if(X==="TK_RESERVED"||X==="TK_WORD"||(v.last_text==="*"&&C==="function")){U="SPACE"}else{if(X==="TK_START_BLOCK"){U="NEWLINE"}else{if(X==="TK_END_EXPR"){H.space_before_token=true;U="NEWLINE"}}}}}}}if(q.type==="TK_RESERVED"&&h(q.text,M.line_starters)&&v.last_text!==")"){if(v.last_text==="else"||v.last_text==="export"){U="SPACE"}else{U="NEWLINE"}}if(q.type==="TK_RESERVED"&&h(q.text,["else","catch","finally"])){if(X!=="TK_END_BLOCK"||w.brace_style==="expand"||w.brace_style==="end-expand"){G()}else{H.trim(true);var al=H.current_line;if(al.last()!=="}"){G()}H.space_before_token=true}}else{if(U==="NEWLINE"){if(X==="TK_RESERVED"&&R(v.last_text)){H.space_before_token=true}else{if(X!=="TK_END_EXPR"){if((X!=="TK_START_EXPR"||!(q.type==="TK_RESERVED"&&h(q.text,["var","let","const"])))&&v.last_text!==":"){if(q.type==="TK_RESERVED"&&q.text==="if"&&v.last_text==="else"){H.space_before_token=true}else{G()}}}else{if(q.type==="TK_RESERVED"&&h(q.text,M.line_starters)&&v.last_text!==")"){G()}}}}else{if(v.multiline_frame&&S(v.mode)&&v.last_text===","&&C==="}"){G()}else{if(U==="SPACE"){H.space_before_token=true}}}}N();v.last_word=q.text;if(q.type==="TK_RESERVED"&&q.text==="do"){v.do_block=true}if(q.type==="TK_RESERVED"&&q.text==="if"){v.if_block=true}}function K(){if(I()){H.space_before_token=false}while(v.mode===e.Statement&&!v.if_block&&!v.do_block){o()}N()}function x(){if(I()){H.space_before_token=true}else{if(X==="TK_RESERVED"||X==="TK_WORD"){H.space_before_token=true}else{if(X==="TK_COMMA"||X==="TK_START_EXPR"||X==="TK_EQUALS"||X==="TK_OPERATOR"){if(!O()){s()}}else{G()}}}N()}function Q(){if(I()){}if(v.declaration_statement){v.declaration_assignment=true}H.space_before_token=true;N();H.space_before_token=true}function ac(){if(v.declaration_statement){if(J(v.parent.mode)){v.declaration_assignment=false}N();if(v.declaration_assignment){v.declaration_assignment=false;G(false,true)}else{H.space_before_token=true}return}N();if(v.mode===e.ObjectLiteral||(v.mode===e.Statement&&v.parent.mode===e.ObjectLiteral)){if(v.mode===e.Statement){o()}G()}else{H.space_before_token=true}}function aa(){if(I()){}if(X==="TK_RESERVED"&&R(v.last_text)){H.space_before_token=true;N();return}if(q.text==="*"&&X==="TK_DOT"){N();return}if(q.text===":"&&v.in_case){v.case_body=true;u();N();G();v.in_case=false;return}if(q.text==="::"){N();return}if(q.wanted_newline&&(q.text==="--"||q.text==="++")){G(false,true)}if(X==="TK_OPERATOR"){s()}var am=true;var al=true;if(h(q.text,["--","++","!","~"])||(h(q.text,["-","+"])&&(h(X,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||h(v.last_text,M.line_starters)||v.last_text===","))){am=false;al=false;if(v.last_text===";"&&J(v.mode)){am=true}if(X==="TK_RESERVED"||X==="TK_END_EXPR"){am=true}else{if(X==="TK_OPERATOR"){am=(h(q.text,["--","-"])&&h(v.last_text,["--","-"]))||(h(q.text,["++","+"])&&h(v.last_text,["++","+"]))}}if((v.mode===e.BlockStatement||v.mode===e.Statement)&&(v.last_text==="{"||v.last_text===";")){G()}}else{if(q.text===":"){if(v.ternary_depth===0){am=false}else{v.ternary_depth-=1}}else{if(q.text==="?"){v.ternary_depth+=1}else{if(q.text==="*"&&X==="TK_RESERVED"&&v.last_text==="function"){am=false;al=false}}}}H.space_before_token=H.space_before_token||am;N();H.space_before_token=al}function ab(){var al=ah(q.text);var an;var am=false;var ao=false;var ap=q.whitespace_before.join("");var aq=ap.length;G(false,true);if(al.length>1){if(aj(al.slice(1),"*")){am=true}else{if(Z(al.slice(1),ap)){ao=true}}}N(al[0]);for(an=1;an<al.length;an++){G(false,true);if(am){N(" "+d(al[an]))}else{if(ao&&al[an].length>aq){N(al[an].substring(aq))}else{H.add_token(al[an])}}}G(false,true)}function T(){H.space_before_token=true;N();H.space_before_token=true}function r(){if(q.wanted_newline){G(false,true)}else{H.trim(true)}H.space_before_token=true;N();G(false,true)}function ad(){if(I()){}if(X==="TK_RESERVED"&&R(v.last_text)){H.space_before_token=true}else{s(v.last_text===")"&&w.break_chained_methods)}N()}function Y(){N();if(q.text[q.text.length-1]==="\n"){G()}}function ae(){while(v.mode===e.Statement){o()}}}function c(){var l=0;var k=[];this.get_character_count=function(){return l};this.get_item_count=function(){return k.length};this.get_output=function(){return k.join("")};this.last=function(){if(k.length){return k[k.length-1]}else{return null}};this.push=function(m){k.push(m);l+=m.length};this.remove_indent=function(m,o){var n=0;if(k.length===0){return}if(o&&k[0]===o){n=1}if(k[n]===m){l-=k[n].length;k.splice(n,1)}};this.trim=function(m,o){while(this.get_item_count()&&(this.last()===" "||this.last()===m||this.last()===o)){var n=k.pop();l-=n.length}}}function i(k,m){var l=[];this.baseIndentString=m;this.current_line=null;this.space_before_token=false;this.get_line_number=function(){return l.length};this.add_new_line=function(n){if(this.get_line_number()===1&&this.just_added_newline()){return false}if(n||!this.just_added_newline()){this.current_line=new c();l.push(this.current_line);return true}return false};this.add_new_line(true);this.get_code=function(){var o=l[0].get_output();for(var n=1;n<l.length;n++){o+="\n"+l[n].get_output()}o=o.replace(/[\r\n\t ]+$/,"");return o};this.add_indent_string=function(o){if(m){this.current_line.push(m)}if(l.length>1){for(var n=0;n<o;n+=1){this.current_line.push(k)}return true}return false};this.add_token=function(n){this.add_space_before_token();this.current_line.push(n)};this.add_space_before_token=function(){if(this.space_before_token&&this.current_line.get_item_count()){var n=this.current_line.last();if(n!==" "&&n!==k&&n!==m){this.current_line.push(" ")}}this.space_before_token=false};this.remove_redundant_indentation=function(q){if(q.multiline_frame||q.mode===e.ForInitializer||q.mode===e.Conditional){return}var o=q.start_line_index;var n;var p=l.length;while(o<p){l[o].remove_indent(k,m);o++}};this.trim=function(n){n=(n===undefined)?false:n;this.current_line.trim(k,m);while(n&&l.length>1&&this.current_line.get_item_count()===0){l.pop();this.current_line=l[l.length-1];this.current_line.trim(k,m)}};this.just_added_newline=function(){return this.current_line.get_item_count()===0};this.just_added_blankline=function(){if(this.just_added_newline()){if(l.length===1){return true}var n=l[l.length-2];return n.get_item_count()===0}return false}}var a=function(m,p,n,k,o,l){this.type=m;this.text=p;this.comments_before=[];this.newlines=n||0;this.wanted_newline=n>0;this.whitespace_before=k||[];this.parent=null};function j(v,l,y){var m="\n\r\t ".split("");var u=/[0-9]/;var o=("+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: => <%= <% %> <?= <? ?>").split(" ");this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,yield,import,export".split(",");var n=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof"]);var w,q,r,t,x;var s;this.tokenize=function(){s=v.length;x=0;r=false;t=[];var A,C;var B;var z=null;var D=[];var E=[];while(!(C&&C.type==="TK_EOF")){B=p();A=new a(B[1],B[0],w,q);while(A.type==="TK_INLINE_COMMENT"||A.type==="TK_COMMENT"||A.type==="TK_BLOCK_COMMENT"||A.type==="TK_UNKNOWN"){E.push(A);B=p();A=new a(B[1],B[0],w,q)}if(E.length){A.comments_before=E;E=[]}if(A.type==="TK_START_BLOCK"||A.type==="TK_START_EXPR"){A.parent=C;z=A;D.push(A)}else{if((A.type==="TK_END_BLOCK"||A.type==="TK_END_EXPR")&&(z&&((A.text==="]"&&z.text==="[")||(A.text===")"&&z.text==="(")||(A.text==="}"&&z.text==="}")))){A.parent=z.parent;z=D.pop()}}t.push(A);C=A}return t};function p(){var N,M;w=0;q=[];if(x>=s){return["","TK_EOF"]}var L;if(t.length){L=t[t.length-1]}else{L=new a("TK_START_BLOCK","{")}var S=v.charAt(x);x+=1;while(h(S,m)){if(S==="\n"){w+=1;q=[]}else{if(w){if(S===y){q.push(y)}else{if(S!=="\r"){q.push(" ")}}}}if(x>=s){return["","TK_EOF"]}S=v.charAt(x);x+=1}if(u.test(S)){var G=true;var F=true;var U=u;if(S==="0"&&x<s&&/[Xx]/.test(v.charAt(x))){G=false;F=false;S+=v.charAt(x);x+=1;U=/[0123456789abcdefABCDEF]/}else{S="";x-=1}while(x<s&&U.test(v.charAt(x))){S+=v.charAt(x);x+=1;if(G&&x<s&&v.charAt(x)==="."){S+=v.charAt(x);x+=1;G=false}if(F&&x<s&&/[Ee]/.test(v.charAt(x))){S+=v.charAt(x);x+=1;if(x<s&&/[+-]/.test(v.charAt(x))){S+=v.charAt(x);x+=1}F=false;G=false}}return[S,"TK_WORD"]}if(f.isIdentifierStart(v.charCodeAt(x-1))){if(x<s){while(f.isIdentifierChar(v.charCodeAt(x))){S+=v.charAt(x);x+=1;if(x===s){break}}}if(!(L.type==="TK_DOT"||(L.type==="TK_RESERVED"&&h(L.text,["set","get"])))&&h(S,n)){if(S==="in"){return[S,"TK_OPERATOR"]}return[S,"TK_RESERVED"]}return[S,"TK_WORD"]}if(S==="("||S==="["){return[S,"TK_START_EXPR"]}if(S===")"||S==="]"){return[S,"TK_END_EXPR"]}if(S==="{"){return[S,"TK_START_BLOCK"]}if(S==="}"){return[S,"TK_END_BLOCK"]}if(S===";"){return[S,"TK_SEMICOLON"]}if(S==="/"){var A="";var J=true;if(v.charAt(x)==="*"){x+=1;if(x<s){while(x<s&&!(v.charAt(x)==="*"&&v.charAt(x+1)&&v.charAt(x+1)==="/")){S=v.charAt(x);A+=S;if(S==="\n"||S==="\r"){J=false}x+=1;if(x>=s){break}}}x+=2;if(J&&w===0){return["/*"+A+"*/","TK_INLINE_COMMENT"]}else{return["/*"+A+"*/","TK_BLOCK_COMMENT"]}}if(v.charAt(x)==="/"){A=S;while(v.charAt(x)!=="\r"&&v.charAt(x)!=="\n"){A+=v.charAt(x);x+=1;if(x>=s){break}}return[A,"TK_COMMENT"]}}if(S==="`"||S==="'"||S==='"'||((S==="/")||(l.e4x&&S==="<"&&v.slice(x-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*\/?\s*>/)))&&((L.type==="TK_RESERVED"&&h(L.text,["return","case","throw","else","do","typeof","yield"]))||(L.type==="TK_END_EXPR"&&L.text===")"&&L.parent&&L.parent.type==="TK_RESERVED"&&h(L.parent.text,["if","while","for"]))||(h(L.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"])))){var K=S,T=false,C=false;M=S;if(K==="/"){var D=false;while(x<s&&((T||D||v.charAt(x)!==K)&&!f.newline.test(v.charAt(x)))){M+=v.charAt(x);if(!T){T=v.charAt(x)==="\\";if(v.charAt(x)==="["){D=true}else{if(v.charAt(x)==="]"){D=false}}}else{T=false}x+=1}}else{if(l.e4x&&K==="<"){var R=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*(\/?)\s*>/g;var B=v.slice(x-1);var H=R.exec(B);if(H&&H.index===0){var P=H[2];var V=0;while(H){var Q=!!H[1];var E=H[2];var z=(!!H[H.length-1])||(E.slice(0,8)==="![CDATA[");if(E===P&&!z){if(Q){--V}else{++V}}if(V<=0){break}H=R.exec(B)}var O=H?H.index+H[0].length:B.length;x+=O-1;return[B.slice(0,O),"TK_STRING"]}}else{while(x<s&&(T||(v.charAt(x)!==K&&(K==="`"||!f.newline.test(v.charAt(x)))))){M+=v.charAt(x);if(T){if(v.charAt(x)==="x"||v.charAt(x)==="u"){C=true}T=false}else{T=v.charAt(x)==="\\"}x+=1}}}if(C&&l.unescape_strings){M=k(M)}if(x<s&&v.charAt(x)===K){M+=K;x+=1;if(K==="/"){while(x<s&&f.isIdentifierStart(v.charCodeAt(x))){M+=v.charAt(x);x+=1}}}return[M,"TK_STRING"]}if(S==="#"){if(t.length===0&&v.charAt(x)==="!"){M=S;while(x<s&&S!=="\n"){S=v.charAt(x);M+=S;x+=1}return[d(M)+"\n","TK_UNKNOWN"]}var I="#";if(x<s&&u.test(v.charAt(x))){do{S=v.charAt(x);I+=S;x+=1}while(x<s&&S!=="#"&&S!=="=");if(S==="#"){}else{if(v.charAt(x)==="["&&v.charAt(x+1)==="]"){I+="[]";x+=2}else{if(v.charAt(x)==="{"&&v.charAt(x+1)==="}"){I+="{}";x+=2}}}return[I,"TK_WORD"]}}if(S==="<"&&v.substring(x-1,x+3)==="<!--"){x+=3;S="<!--";while(v.charAt(x)!=="\n"&&x<s){S+=v.charAt(x);x++}r=true;return[S,"TK_COMMENT"]}if(S==="-"&&r&&v.substring(x-1,x+2)==="-->"){r=false;x+=2;return["-->","TK_COMMENT"]}if(S==="."){return[S,"TK_DOT"]}if(h(S,o)){while(x<s&&h(S+v.charAt(x),o)){S+=v.charAt(x);x+=1;if(x>=s){break}}if(S===","){return[S,"TK_COMMA"]}else{if(S==="="){return[S,"TK_EQUALS"]}else{return[S,"TK_OPERATOR"]}}}return[S,"TK_UNKNOWN"]}function k(C){var z=false,A="",F=0,B="",D=0,E;while(z||F<C.length){E=C.charAt(F);F++;if(z){z=false;if(E==="x"){B=C.substr(F,2);F+=2}else{if(E==="u"){B=C.substr(F,4);F+=4}else{A+="\\"+E;continue}}if(!B.match(/^[0123456789abcdefABCDEF]+$/)){return C}D=parseInt(B,16);if(D>=0&&D<32){if(E==="x"){A+="\\x"+B}else{A+="\\u"+B}continue}else{if(D===34||D===39||D===92){A+="\\"+String.fromCharCode(D)}else{if(E==="x"&&D>126&&D<=255){return C}else{A+=String.fromCharCode(D)}}}}else{if(E==="\\"){z=true}else{A+=E}}}return A}}if(typeof define==="function"&&define.amd){define([],function(){return{js_beautify:b}})}else{if(typeof exports!=="undefined"){exports.js_beautify=b}else{if(typeof window!=="undefined"){window.js_beautify=b}else{if(typeof global!=="undefined"){global.js_beautify=b}}}}}());(function(){function a(g){return g.replace(/^\s+|\s+$/g,"")}function f(g){return g.replace(/^\s+/g,"")}function d(g){return g.replace(/\s+$/g,"")}function c(D,j,v,l){var I,s,z,w,A,n,G,C,k,u,H;j=j||{};if((j.wrap_line_length===undefined||parseInt(j.wrap_line_length,10)===0)&&(j.max_char!==undefined&&parseInt(j.max_char,10)!==0)){j.wrap_line_length=j.max_char}s=(j.indent_inner_html===undefined)?false:j.indent_inner_html;z=(j.indent_size===undefined)?4:parseInt(j.indent_size,10);w=(j.indent_char===undefined)?" ":j.indent_char;n=(j.brace_style===undefined)?"collapse":j.brace_style;A=parseInt(j.wrap_line_length,10)===0?32786:parseInt(j.wrap_line_length||250,10);G=j.unformatted||["a","span","img","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","pre","address","dt","h1","h2","h3","h4","h5","h6"];C=(j.preserve_newlines===undefined)?true:j.preserve_newlines;k=C?(isNaN(parseInt(j.max_preserve_newlines,10))?32786:parseInt(j.max_preserve_newlines,10)):0;u=(j.indent_handlebars===undefined)?false:j.indent_handlebars;H=(j.end_with_newline===undefined)?false:j.end_with_newline;function i(){this.pos=0;this.token="";this.current_mode="CONTENT";this.tags={parent:"parent1",parentcount:1,parent1:""};this.tag_type="";this.token_text=this.last_token=this.last_text=this.token_type="";this.newlines=0;this.indent_content=s;this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,?php,?,?=".split(","),extra_liners:"head,body,/html".split(","),in_array:function(K,t){for(var J=0;J<t.length;J++){if(K===t[J]){return true}}return false}};this.is_whitespace=function(t){for(var J=0;J<t.length;t++){if(!this.Utils.in_array(t.charAt(J),this.Utils.whitespace)){return false}}return true};this.traverse_whitespace=function(){var t="";t=this.input.charAt(this.pos);if(this.Utils.in_array(t,this.Utils.whitespace)){this.newlines=0;while(this.Utils.in_array(t,this.Utils.whitespace)){if(C&&t==="\n"&&this.newlines<=k){this.newlines+=1}this.pos++;t=this.input.charAt(this.pos)}return true}return false};this.space_or_wrap=function(t){if(this.line_char_count>=this.wrap_line_length){this.print_newline(false,t);this.print_indentation(t)}else{this.line_char_count++;t.push(" ")}};this.get_content=function(){var t="",K=[],L=false;while(this.input.charAt(this.pos)!=="<"){if(this.pos>=this.input.length){return K.length?K.join(""):["","TK_EOF"]}if(this.traverse_whitespace()){this.space_or_wrap(K);continue}if(u){var J=this.input.substr(this.pos,3);if(J==="{{#"||J==="{{/"){break}else{if(this.input.substr(this.pos,2)==="{{"){if(this.get_tag(true)==="{{else}}"){break}}}}t=this.input.charAt(this.pos);this.pos++;this.line_char_count++;K.push(t)}return K.length?K.join(""):""};this.get_contents_to=function(K){if(this.pos===this.input.length){return["","TK_EOF"]}var t="";var L="";var M=new RegExp("</"+K+"\\s*>","igm");M.lastIndex=this.pos;var J=M.exec(this.input);var N=J?J.index:this.input.length;if(this.pos<N){L=this.input.substring(this.pos,N);this.pos=N}return L};this.record_tag=function(t){if(this.tags[t+"count"]){this.tags[t+"count"]++;this.tags[t+this.tags[t+"count"]]=this.indent_level}else{this.tags[t+"count"]=1;this.tags[t+this.tags[t+"count"]]=this.indent_level}this.tags[t+this.tags[t+"count"]+"parent"]=this.tags.parent;this.tags.parent=t+this.tags[t+"count"]};this.retrieve_tag=function(t){if(this.tags[t+"count"]){var J=this.tags.parent;while(J){if(t+this.tags[t+"count"]===J){break}J=this.tags[J+"parent"]}if(J){this.indent_level=this.tags[t+this.tags[t+"count"]];this.tags.parent=this.tags[J+"parent"]}delete this.tags[t+this.tags[t+"count"]+"parent"];delete this.tags[t+this.tags[t+"count"]];if(this.tags[t+"count"]===1){delete this.tags[t+"count"]}else{this.tags[t+"count"]--}}};this.indent_to_tag=function(t){if(!this.tags[t+"count"]){return}var J=this.tags.parent;while(J){if(t+this.tags[t+"count"]===J){break}J=this.tags[J+"parent"]}if(J){this.indent_level=this.tags[t+this.tags[t+"count"]]}};this.get_tag=function(U){var P="",R=[],Q="",J=false,T,O,N,K=this.pos,t=this.line_char_count;U=U!==undefined?U:false;do{if(this.pos>=this.input.length){if(U){this.pos=K;this.line_char_count=t}return R.length?R.join(""):["","TK_EOF"]}P=this.input.charAt(this.pos);this.pos++;if(this.Utils.in_array(P,this.Utils.whitespace)){J=true;continue}if(P==="'"||P==='"'){P+=this.get_unformatted(P);J=true}if(P==="="){J=false}if(R.length&&R[R.length-1]!=="="&&P!==">"&&J){this.space_or_wrap(R);J=false}if(u&&N==="<"){if((P+this.input.charAt(this.pos))==="{{"){P+=this.get_unformatted("}}");if(R.length&&R[R.length-1]!==" "&&R[R.length-1]!=="<"){P=" "+P}J=true}}if(P==="<"&&!N){T=this.pos-1;N="<"}if(u&&!N){if(R.length>=2&&R[R.length-1]==="{"&&R[R.length-2]=="{"){if(P==="#"||P==="/"){T=this.pos-3}else{T=this.pos-2}N="{"}}this.line_char_count++;R.push(P);if(R[1]&&R[1]==="!"){R=[this.get_comment(T)];break}if(u&&N==="{"&&R.length>2&&R[R.length-2]==="}"&&R[R.length-1]==="}"){break}}while(P!==">");var V=R.join("");var M;var L;if(V.indexOf(" ")!==-1){M=V.indexOf(" ")}else{if(V[0]==="{"){M=V.indexOf("}")}else{M=V.indexOf(">")}}if(V[0]==="<"||!u){L=1}else{L=V[2]==="#"?3:2}var S=V.substring(L,M).toLowerCase();if(V.charAt(V.length-2)==="/"||this.Utils.in_array(S,this.Utils.single_token)){if(!U){this.tag_type="SINGLE"}}else{if(u&&V[0]==="{"&&S==="else"){if(!U){this.indent_to_tag("if");this.tag_type="HANDLEBARS_ELSE";this.indent_content=true;this.traverse_whitespace()}}else{if(this.is_unformatted(S,G)){Q=this.get_unformatted("</"+S+">",V);R.push(Q);O=this.pos-1;this.tag_type="SINGLE"}else{if(S==="script"&&(V.search("type")===-1||(V.search("type")>-1&&V.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/)>-1))){if(!U){this.record_tag(S);this.tag_type="SCRIPT"}}else{if(S==="style"&&(V.search("type")===-1||(V.search("type")>-1&&V.search("text/css")>-1))){if(!U){this.record_tag(S);this.tag_type="STYLE"}}else{if(S.charAt(0)==="!"){if(!U){this.tag_type="SINGLE";this.traverse_whitespace()}}else{if(!U){if(S.charAt(0)==="/"){this.retrieve_tag(S.substring(1));this.tag_type="END"}else{this.record_tag(S);if(S.toLowerCase()!=="html"){this.indent_content=true}this.tag_type="START"}if(this.traverse_whitespace()){this.space_or_wrap(R)}if(this.Utils.in_array(S,this.Utils.extra_liners)){this.print_newline(false,this.output);if(this.output.length&&this.output[this.output.length-2]!=="\n"){this.print_newline(true,this.output)}}}}}}}}}if(U){this.pos=K;this.line_char_count=t}return R.join("")};this.get_comment=function(J){var L="",K=">",t=false;this.pos=J;input_char=this.input.charAt(this.pos);this.pos++;while(this.pos<=this.input.length){L+=input_char;if(L[L.length-1]===K[K.length-1]&&L.indexOf(K)!==-1){break}if(!t&&L.length<10){if(L.indexOf("<![if")===0){K="<![endif]>";t=true}else{if(L.indexOf("<![cdata[")===0){K="]]>";t=true}else{if(L.indexOf("<![")===0){K="]>";t=true}else{if(L.indexOf("<!--")===0){K="-->";t=true}}}}}input_char=this.input.charAt(this.pos);this.pos++}return L};this.get_unformatted=function(J,K){if(K&&K.toLowerCase().indexOf(J)!==-1){return""}var t="";var L="";var N=0;var M=true;do{if(this.pos>=this.input.length){return L}t=this.input.charAt(this.pos);this.pos++;if(this.Utils.in_array(t,this.Utils.whitespace)){if(!M){this.line_char_count--;continue}if(t==="\n"||t==="\r"){L+="\n";this.line_char_count=0;continue}}L+=t;this.line_char_count++;M=true;if(u&&t==="{"&&L.length&&L[L.length-2]==="{"){L+=this.get_unformatted("}}");N=L.length}}while(L.toLowerCase().indexOf(J,N)===-1);return L};this.get_token=function(){var t;if(this.last_token==="TK_TAG_SCRIPT"||this.last_token==="TK_TAG_STYLE"){var J=this.last_token.substr(7);t=this.get_contents_to(J);if(typeof t!=="string"){return t}return[t,"TK_"+J]}if(this.current_mode==="CONTENT"){t=this.get_content();if(typeof t!=="string"){return t}else{return[t,"TK_CONTENT"]}}if(this.current_mode==="TAG"){t=this.get_tag();if(typeof t!=="string"){return t}else{var K="TK_TAG_"+this.tag_type;return[t,K]}}};this.get_full_indent=function(t){t=this.indent_level+t||0;if(t<1){return""}return Array(t+1).join(this.indent_string)};this.is_unformatted=function(K,J){if(!this.Utils.in_array(K,J)){return false}if(K.toLowerCase()!=="a"||!this.Utils.in_array("a",J)){return true}var L=this.get_tag(true);var t=(L||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);if(!t||this.Utils.in_array(t,J)){return true}else{return false}};this.printer=function(L,K,t,N,M){this.input=L||"";this.output=[];this.indent_character=K;this.indent_string="";this.indent_size=t;this.brace_style=M;this.indent_level=0;this.wrap_line_length=N;this.line_char_count=0;for(var J=0;J<this.indent_size;J++){this.indent_string+=this.indent_character}this.print_newline=function(P,O){this.line_char_count=0;if(!O||!O.length){return}if(P||(O[O.length-1]!=="\n")){if((O[O.length-1]!=="\n")){O[O.length-1]=d(O[O.length-1])}O.push("\n")}};this.print_indentation=function(O){for(var P=0;P<this.indent_level;P++){O.push(this.indent_string);this.line_char_count+=this.indent_string.length}};this.print_token=function(O){if(this.is_whitespace(O)&&!this.output.length){return}if(O||O!==""){if(this.output.length&&this.output[this.output.length-1]==="\n"){this.print_indentation(this.output);O=f(O)}}this.print_token_raw(O)};this.print_token_raw=function(O){if(this.newlines>0){O=d(O)}if(O&&O!==""){if(O.length>1&&O[O.length-1]==="\n"){this.output.push(O.slice(0,-1));this.print_newline(false,this.output)}else{this.output.push(O)}}for(var P=0;P<this.newlines;P++){this.print_newline(P>0,this.output)}this.newlines=0};this.indent=function(){this.indent_level++};this.unindent=function(){if(this.indent_level>0){this.indent_level--}}};return this}I=new i();I.printer(D,w,z,A,n);while(true){var r=I.get_token();I.token_text=r[0];I.token_type=r[1];if(I.token_type==="TK_EOF"){break}switch(I.token_type){case"TK_TAG_START":I.print_newline(false,I.output);I.print_token(I.token_text);if(I.indent_content){I.indent();I.indent_content=false}I.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":I.print_newline(false,I.output);I.print_token(I.token_text);I.current_mode="CONTENT";break;case"TK_TAG_END":if(I.last_token==="TK_CONTENT"&&I.last_text===""){var F=I.token_text.match(/\w+/)[0];var q=null;if(I.output.length){q=I.output[I.output.length-1].match(/(?:<|{{#)\s*(\w+)/)}if(q===null||q[1]!==F){I.print_newline(false,I.output)}}I.print_token(I.token_text);I.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var h=I.token_text.match(/^\s*<([a-z-]+)/i);if(!h||!I.Utils.in_array(h[1],G)){I.print_newline(false,I.output)}I.print_token(I.token_text);I.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":I.print_token(I.token_text);if(I.indent_content){I.indent();I.indent_content=false}I.current_mode="CONTENT";break;case"TK_CONTENT":I.print_token(I.token_text);I.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(I.token_text!==""){I.print_newline(false,I.output);var p=I.token_text,B,o=1;if(I.token_type==="TK_SCRIPT"){B=typeof v==="function"&&v}else{if(I.token_type==="TK_STYLE"){B=typeof l==="function"&&l}}if(j.indent_scripts==="keep"){o=0}else{if(j.indent_scripts==="separate"){o=-I.indent_level}}var g=I.get_full_indent(o);if(B){p=B(p.replace(/^\s*/,g),j)}else{var m=p.match(/^\s*/)[0];var y=m.match(/[^\n\r]*$/)[0].split(I.indent_string).length-1;var E=I.get_full_indent(o-y);p=p.replace(/^\s*/,g).replace(/\r\n|\r|\n/g,"\n"+E).replace(/\s+$/,"")}if(p){I.print_token_raw(p);I.print_newline(true,I.output)}}I.current_mode="TAG";break;default:if(I.token_text!==""){I.print_token(I.token_text)}break}I.last_token=I.token_type;I.last_text=I.token_text}var x=I.output.join("").replace(/[\r\n\t ]+$/,"");if(H){x+="\n"}return x}if(typeof define==="function"&&define.amd){define(["require","./beautify","./beautify-css"],function(h){var g=h("./beautify");var i=h("./beautify-css");return{html_beautify:function(k,j){return c(k,j,g.js_beautify,i.css_beautify)}}})}else{if(typeof exports!=="undefined"){var b=require("./beautify.js");var e=require("./beautify-css.js");exports.html_beautify=function(h,g){return c(h,g,b.js_beautify,e.css_beautify)}}else{if(typeof window!=="undefined"){window.html_beautify=function(h,g){return c(h,g,window.js_beautify,window.css_beautify)}}else{if(typeof global!=="undefined"){global.html_beautify=function(h,g){return c(h,g,global.js_beautify,global.css_beautify)}}}}}}());